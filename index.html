<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Money Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f9;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      width: 400px;
      background: #90caf9;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 2px 2px 12px rgba(0,0,0,0.2);
    }
    h1, h2, h3 {
      text-align: center;
    }
    .form {
      display: flex;
      flex-direction: column;
      margin-bottom: 20px;
    }
    .form input, .form button {
      margin: 5px 0;
      padding: 10px;
      font-size: 16px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      padding: 10px;
      margin: 5px 0;
      background: #f1f1f1;
      border-left: 5px solid;
    }
    li.income {
      border-color: green;
    }
    li.expense {
      border-color: red;
    }
    .form select {
      margin: 5px 0;
      padding: 10px;
      font-size: 16px;
    }
    #clear-btn {
      display: block; 
      margin: 20px auto;    
      padding: 10px 20px;
      background-color: #ff4d4d;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s ease;
    }
    #clear-btn:hover {
      background-color: #e60000;
      transform: scale(1.05);
    }
    #clear-btn:active {
      background-color: #cc0000;
      transform: scale(0.95);
    }
    .category {
      font-size: 0.85em;
      font-style: italic;
      color: #666;
    }
    .edit-btn, .delete-btn {
      margin-left: 10px;
      border: none;
      padding: 5px 8px;
      cursor: pointer;
      border-radius: 4px;
      font-size: 14px;
    }
    .edit-btn {
      background: rgb(41, 193, 41);
    }
    .delete-btn {
      background: red;
      color: white;
    }
    .transaction-main {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .transaction-actions {
      display: flex;
      gap: 8px; 
    }
    .date {
      font-size: 12px;
      color: #555;
      margin-top: 4px;   
      margin-left: 2px;  
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Money Tracker</h1>
    <h2 id="balance">Current Balance: $0</h2>
    <h3 id="income">Total Income: $0</h3>
    <h3 id="expense">Total Expense: $0</h3>
    <div class="form">
      <input type="text" id="desc" placeholder="Enter description">
      <label for="category">Category:</label>
      <select id="category">
        <option value="Food">Food</option>
        <option value="Travel">Travel</option>
        <option value="Shopping">Shopping</option>
        <option value="Bills">Bills</option>
        <option value="Salary">Salary</option>
        <option value="Other">Other</option>
      </select>
      <select id="type">
        <option value="income">Income</option>
        <option value="expense">Expense</option>
      </select>
      <input type="number" id="amount" placeholder="Enter amount">
      <button onclick="addTransaction()">Add</button>
    </div>
    <h3>Transaction History</h3>
    <ul id="transactions"></ul>
    <button id="clear-btn" onclick="clearTransactions()">Clear All Transactions</button>  </div>
  <script>
  let balance = 0;
  let transactions = [];
  let editIndex = null; 
  function addTransaction() {
    const desc = document.getElementById("desc").value;
    const type = document.getElementById("type").value;
    const amount = Number(document.getElementById("amount").value);
    const category = document.getElementById("category").value;
    if (desc === "" || amount <= 0) {
      alert("Please enter valid data!");
      return;
    }
    const finalAmount = type === "income" ? amount : -amount;
    if (editIndex !== null) {
      const old = transactions[editIndex];
      balance -= old.amount; 
      transactions[editIndex] = { desc, amount: finalAmount, category, date: old.date };
      balance += finalAmount;
      editIndex = null; 
    } else {
      const transaction = { desc, amount: finalAmount, category, date: new Date().toLocaleString() };
      transactions.push(transaction);
      balance += finalAmount;
    }
    updateUI();
    document.getElementById("desc").value = "";
    document.getElementById("amount").value = "";
    document.getElementById("category").value = "Other";
  }
  function updateUI() {
    document.getElementById("balance").innerText = `Balance: $${balance}`;
    let income = transactions
      .filter(t => t.amount > 0)
      .reduce((acc, t) => acc + t.amount, 0);
    let expense = transactions
      .filter(t => t.amount < 0)
      .reduce((acc, t) => acc + Math.abs(t.amount), 0);
    document.getElementById("income").innerText = `Total Income: $${income}`;
    document.getElementById("expense").innerText = `Total Expense: $${expense}`;
    const list = document.getElementById("transactions");
    list.innerHTML = "";
    transactions.forEach((t, index) => {
      const li = document.createElement("li");
      li.innerHTML = `
        <div class="transaction-main">
          <span>${t.desc} (${t.category}): $${t.amount}</span>
          <div class="transaction-actions">
            <button class="edit-btn" onclick="editTransaction(${index})">Edit</button>
            <button class="delete-btn" onclick="deleteTransaction(${index})">Delete</button>
          </div>
        </div>
        <div class="date">${t.date}</div>
      `;
      li.classList.add(t.amount > 0 ? "income" : "expense");
      list.appendChild(li);
    });
  }
  function editTransaction(index) {
    const t = transactions[index];
    document.getElementById("desc").value = t.desc;
    document.getElementById("amount").value = Math.abs(t.amount);
    document.getElementById("category").value = t.category;
    document.getElementById("type").value = t.amount > 0 ? "income" : "expense";
    editIndex = index; 
  }
  function deleteTransaction(index) {
    balance -= transactions[index].amount; 
    transactions.splice(index, 1);
    updateUI();
  }
  function clearTransactions() {
    if (confirm("Are you sure you want to delete all transactions?")) {
      transactions = [];
      balance = 0;
      updateUI();
    }
  }
</script>
</body>
</html>
